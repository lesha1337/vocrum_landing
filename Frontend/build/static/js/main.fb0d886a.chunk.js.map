{"version":3,"sources":["components/Wrapper/styles.module.scss","components/GeneralInfo/styles.module.scss","components/Submit/styles.module.scss","components/Main/styles.module.scss","components/FeatureContainer/styles.module.scss","components/Wrapper/index.jsx","components/Waves/three-canvas-renderer.js","components/Waves/index.jsx","components/Main/index.jsx","components/GeneralInfo/index.jsx","components/FeatureContainer/index.jsx","components/Submit/index.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Wrapper","className","classNames","styles","wrapper","this","props","dark","withGradient","withContainer","children","Component","defaultProps","Container","innerWrapper","RenderableObject","id","object","z","renderOrder","RenderableFace","v1","RenderableVertex","v2","v3","normalModel","THREE","vertexNormalsModel","vertexNormalsLength","color","material","uvs","position","positionWorld","positionScreen","visible","prototype","copy","vertex","RenderableLine","vertexColors","RenderableSprite","x","y","rotation","scale","Projector","_object","_objectCount","_vertex","_vertexCount","_face","_faceCount","_line","_lineCount","_sprite","_spriteCount","_modelMatrix","_objectPool","_objectPoolLength","_vertexPool","_vertexPoolLength","_facePool","_facePoolLength","_linePool","_linePoolLength","_spritePool","_spritePoolLength","_renderData","objects","lights","elements","_vector3","_vector4","_clipBox","_boundingBox","_points3","Array","_viewMatrix","_viewProjectionMatrix","_modelViewProjectionMatrix","_normalMatrix","_frustum","_clippedVertex1PositionScreen","_clippedVertex2PositionScreen","projectVector","vector","camera","console","warn","project","unprojectVector","unproject","pickingRay","error","renderList","normals","colors","normalMatrix","projectVertex","applyMatrix4","invW","w","checkTriangleVisibility","intersectsBox","setFromPoints","checkBackfaceCulling","setObject","value","getNormalMatrix","matrixWorld","length","pushVertex","getNextVertexInPool","set","pushNormal","push","pushColor","r","g","b","pushUv","pushLine","a","clipLine","multiplyScalar","getNextLineInPool","Math","max","fromArray","pushTriangle","c","side","getNextFaceInPool","applyMatrix3","normalize","i","normal","arguments","addObject","getNextObjectInPool","setFromMatrixPosition","pushPoint","sprite","getNextSpriteInPool","abs","projectionMatrix","face","line","painterSort","s1","s2","alpha1","alpha2","bc1near","bc2near","bc1far","bc2far","min","lerp","projectScene","scene","sortObjects","sortElements","autoUpdate","updateMatrixWorld","parent","matrixWorldInverse","multiplyMatrices","setFromMatrix","projectObject","frustumCulled","intersectsObject","intersectsSprite","l","sort","o","ol","geometry","attributes","groups","undefined","positions","array","uv","index","indices","group","start","count","vertices","faces","faceVertexUvs","isMultiMaterial","isArray","v","vl","morphTargets","morphInfluences","morphTargetInfluences","t","tl","influence","targetVertex","f","fl","materialIndex","negate","faceVertexNormals","vertexNormals","n","nl","vertexUvs","u","step","SpriteCanvasMaterial","parameters","call","type","program","setValues","Object","create","constructor","isSpriteCanvasMaterial","clone","CanvasRenderer","_elements","_lights","_v1","_v2","_v3","_v1x","_v1y","_v2x","_v2y","_v3x","_v3y","_uvs","_uv1x","_uv1y","_uv2x","_uv2y","_uv3x","_uv3y","_this","_projector","_canvas","canvas","document","createElement","_canvasWidth","width","_canvasHeight","height","_canvasWidthHalf","floor","_canvasHeightHalf","_viewportX","_viewportY","_viewportWidth","_viewportHeight","_pixelRatio","_context","getContext","alpha","_clearColor","_clearAlpha","_contextGlobalAlpha","_contextGlobalCompositeOperation","_contextStrokeStyle","_contextFillStyle","_contextLineWidth","_contextLineCap","_contextLineJoin","_contextLineDash","_color","_diffuseColor","_emissiveColor","_lightColor","_patterns","_clearBox","_elemBox","_ambientLight","_directionalLights","_pointLights","_centroid","_normal","_normalViewMatrix","renderSprite","element","setOpacity","opacity","setBlending","blending","scaleX","scaleY","dist","sqrt","isSpriteMaterial","texture","map","pattern","version","textureToPattern","setFillStyle","bitmap","image","ox","offset","oy","sx","repeat","sy","cx","cy","save","translate","rotate","fillRect","restore","getStyle","setStrokeStyle","isPointsMaterial","size","renderLine","beginPath","moveTo","lineTo","isLineBasicMaterial","setLineWidth","linewidth","setLineCap","linecap","setLineJoin","linejoin","colorStyle1","colorStyle2","grad","createLinearGradient","addColorStop","exception","isLineDashedMaterial","setLineDash","dashSize","gapSize","stroke","expandByScalar","renderFace3","uv1","uv2","uv3","x0","y0","x1","y1","x2","y2","info","render","closePath","isMeshLambertMaterial","isMeshPhongMaterial","isMeshStandardMaterial","emissive","multiply","add","divideScalar","ll","light","isDirectionalLight","lightPosition","amount","dot","intensity","isPointLight","subVectors","distance","distanceTo","calculateLight","wireframe","strokePath","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fillPath","isMeshBasicMaterial","mapping","patternPath","envMap","isMeshNormalMaterial","setRGB","addScalar","fill","complete","repeatX","wrapS","repeatY","wrapT","mirrorX","mirrorY","context","setTransform","drawImage","createPattern","onUpdate","u0","v0","u1","u2","d","e","det","idet","offsetX","offsetY","transform","expand","pixels","globalAlpha","globalCompositeOperation","lineWidth","lineCap","lineJoin","strokeStyle","fillStyle","domElement","autoClear","supportsVertexTextures","setFaceCulling","getContextAttributes","getPixelRatio","setPixelRatio","setSize","updateStyle","style","setViewport","setScissor","setScissorTest","setClearColor","setClearColorHex","hex","getClearColor","getClearAlpha","getMaxAnisotropy","clear","isEmpty","intersect","clearRect","makeEmpty","clearColor","clearDepth","clearStencil","isCamera","background","isColor","lightColor","isAmbientLight","calculateLights","el","overdraw","union","Waves","wave","WaveScene","destroy","rest","separation","amountX","amountY","speed","ref","opts","PerspectiveCamera","offsetWidth","offsetHeight","Scene","particles","animationFrameId","mouseX","mouseY","elHalfX","elHalfY","registeredListeners","arc","PI","init","animate","ix","iy","particle","Sprite","renderer","window","devicePixelRatio","appendChild","registerListener","evt","onDocumentMouseMove","onDocumentTouch","onWindowResize","obj","evtName","callback","addEventListener","removeEventListener","aspect","updateProjectionMatrix","event","clientX","clientY","touches","preventDefault","pageX","pageY","requestAnimationFrame","render3d","lookAt","sin","nextOpts","keys","reduce","acc","key","cancelAnimationFrame","removeChild","forEach","remove","dispose","unbind","projector","Main","textAlign","topText","logo","src","bottomText","paddingTop","backgroundColor","GeneralInfo","features","features__item","FeatureContainer","feature","left","title","fontSize","onClick","scrollBy","right","emailRe","Submit","state","name","email","comment","isActive","handleChange","target","setState","test","handleSubmit","fetch","method","body","JSON","stringify","then","alert","submit","left__text","placeholder","onChange","disabled","text","App","Boolean","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fb0d886a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__3SpfV\",\"innerWrapper\":\"styles_innerWrapper__1dRTV\",\"withGradient\":\"styles_withGradient__3qReJ\",\"dark\":\"styles_dark__1IRjc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"features\":\"styles_features__2Bklt\",\"features__item\":\"styles_features__item__1FXSJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit\":\"styles_submit__12PK1\",\"left\":\"styles_left__Uxtfl\",\"left__text\":\"styles_left__text__LWBBq\",\"right\":\"styles_right__2YbAK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topText\":\"styles_topText__3Xzbv\",\"logo\":\"styles_logo__3HhF8\",\"bottomText\":\"styles_bottomText__31-st\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feature\":\"styles_feature__1Pa-a\",\"left\":\"styles_left__33u9h\",\"right\":\"styles_right__K7DtX\"};","import React, { Component } from \"react\";\nimport styles from \"./styles.module.scss\";\nimport classNames from \"classnames\";\n\nclass Wrapper extends Component {\n  static defaultProps = {\n    withGradient: false,\n    withContainer: false,\n    dark: false\n  };\n\n  render() {\n    return (\n      <div\n        className={classNames(\n          styles.wrapper,\n          this.props.className,\n          this.props.dark && styles.dark,\n          this.props.withGradient && styles.withGradient\n        )}\n      >\n        {this.props.withContainer ? (\n          <Container>{this.props.children}</Container>\n        ) : (\n          this.props.children\n        )}\n      </div>\n    );\n  }\n}\n\nexport class Container extends Component {\n  render() {\n    return (\n      <div className={\"container\"}>\n        <div className={styles.innerWrapper}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nexport default Wrapper;\n","import * as THREE from \"three/build/three.module\";\n\nexport const RenderableObject = function() {\n  this.id = 0;\n\n  this.object = null;\n  this.z = 0;\n  this.renderOrder = 0;\n};\n\n//\n\nexport const RenderableFace = function() {\n  this.id = 0;\n\n  this.v1 = new RenderableVertex();\n  this.v2 = new RenderableVertex();\n  this.v3 = new RenderableVertex();\n\n  this.normalModel = new THREE.Vector3();\n\n  this.vertexNormalsModel = [\n    new THREE.Vector3(),\n    new THREE.Vector3(),\n    new THREE.Vector3()\n  ];\n  this.vertexNormalsLength = 0;\n\n  this.color = new THREE.Color();\n  this.material = null;\n  this.uvs = [new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2()];\n\n  this.z = 0;\n  this.renderOrder = 0;\n};\n\n//\n\nexport const RenderableVertex = function() {\n  this.position = new THREE.Vector3();\n  this.positionWorld = new THREE.Vector3();\n  this.positionScreen = new THREE.Vector4();\n\n  this.visible = true;\n};\n\nRenderableVertex.prototype.copy = function(vertex) {\n  this.positionWorld.copy(vertex.positionWorld);\n  this.positionScreen.copy(vertex.positionScreen);\n};\n\n//\n\nexport const RenderableLine = function() {\n  this.id = 0;\n\n  this.v1 = new RenderableVertex();\n  this.v2 = new RenderableVertex();\n\n  this.vertexColors = [new THREE.Color(), new THREE.Color()];\n  this.material = null;\n\n  this.z = 0;\n  this.renderOrder = 0;\n};\n\n//\n\nexport const RenderableSprite = function() {\n  this.id = 0;\n\n  this.object = null;\n\n  this.x = 0;\n  this.y = 0;\n  this.z = 0;\n\n  this.rotation = 0;\n  this.scale = new THREE.Vector2();\n\n  this.material = null;\n  this.renderOrder = 0;\n};\n\nexport const Projector = function() {\n  var _object,\n    _objectCount,\n    _objectPool = [],\n    _objectPoolLength = 0,\n    _vertex,\n    _vertexCount,\n    _vertexPool = [],\n    _vertexPoolLength = 0,\n    _face,\n    _faceCount,\n    _facePool = [],\n    _facePoolLength = 0,\n    _line,\n    _lineCount,\n    _linePool = [],\n    _linePoolLength = 0,\n    _sprite,\n    _spriteCount,\n    _spritePool = [],\n    _spritePoolLength = 0,\n    _renderData = { objects: [], lights: [], elements: [] },\n    _vector3 = new THREE.Vector3(),\n    _vector4 = new THREE.Vector4(),\n    _clipBox = new THREE.Box3(\n      new THREE.Vector3(-1, -1, -1),\n      new THREE.Vector3(1, 1, 1)\n    ),\n    _boundingBox = new THREE.Box3(),\n    _points3 = new Array(3),\n    _viewMatrix = new THREE.Matrix4(),\n    _viewProjectionMatrix = new THREE.Matrix4(),\n    _modelMatrix,\n    _modelViewProjectionMatrix = new THREE.Matrix4(),\n    _normalMatrix = new THREE.Matrix3(),\n    _frustum = new THREE.Frustum(),\n    _clippedVertex1PositionScreen = new THREE.Vector4(),\n    _clippedVertex2PositionScreen = new THREE.Vector4();\n\n  //\n\n  this.projectVector = function(vector, camera) {\n    console.warn(\"Projector: .projectVector() is now vector.project().\");\n    vector.project(camera);\n  };\n\n  this.unprojectVector = function(vector, camera) {\n    console.warn(\"Projector: .unprojectVector() is now vector.unproject().\");\n    vector.unproject(camera);\n  };\n\n  this.pickingRay = function() {\n    console.error(\"Projector: .pickingRay() is now raycaster.setFromCamera().\");\n  };\n\n  //\n\n  var RenderList = function() {\n    var normals = [];\n    var colors = [];\n    var uvs = [];\n\n    var object = null;\n    var material = null;\n\n    var normalMatrix = new THREE.Matrix3();\n\n    function setObject(value) {\n      object = value;\n      material = object.material;\n\n      normalMatrix.getNormalMatrix(object.matrixWorld);\n\n      normals.length = 0;\n      colors.length = 0;\n      uvs.length = 0;\n    }\n\n    function projectVertex(vertex) {\n      var position = vertex.position;\n      var positionWorld = vertex.positionWorld;\n      var positionScreen = vertex.positionScreen;\n\n      positionWorld.copy(position).applyMatrix4(_modelMatrix);\n      positionScreen.copy(positionWorld).applyMatrix4(_viewProjectionMatrix);\n\n      var invW = 1 / positionScreen.w;\n\n      positionScreen.x *= invW;\n      positionScreen.y *= invW;\n      positionScreen.z *= invW;\n\n      vertex.visible =\n        positionScreen.x >= -1 &&\n        positionScreen.x <= 1 &&\n        positionScreen.y >= -1 &&\n        positionScreen.y <= 1 &&\n        positionScreen.z >= -1 &&\n        positionScreen.z <= 1;\n    }\n\n    function pushVertex(x, y, z) {\n      _vertex = getNextVertexInPool();\n      _vertex.position.set(x, y, z);\n\n      projectVertex(_vertex);\n    }\n\n    function pushNormal(x, y, z) {\n      normals.push(x, y, z);\n    }\n\n    function pushColor(r, g, b) {\n      colors.push(r, g, b);\n    }\n\n    function pushUv(x, y) {\n      uvs.push(x, y);\n    }\n\n    function checkTriangleVisibility(v1, v2, v3) {\n      if (v1.visible === true || v2.visible === true || v3.visible === true)\n        return true;\n\n      _points3[0] = v1.positionScreen;\n      _points3[1] = v2.positionScreen;\n      _points3[2] = v3.positionScreen;\n\n      return _clipBox.intersectsBox(_boundingBox.setFromPoints(_points3));\n    }\n\n    function checkBackfaceCulling(v1, v2, v3) {\n      return (\n        (v3.positionScreen.x - v1.positionScreen.x) *\n          (v2.positionScreen.y - v1.positionScreen.y) -\n          (v3.positionScreen.y - v1.positionScreen.y) *\n            (v2.positionScreen.x - v1.positionScreen.x) <\n        0\n      );\n    }\n\n    function pushLine(a, b) {\n      var v1 = _vertexPool[a];\n      var v2 = _vertexPool[b];\n\n      // Clip\n\n      v1.positionScreen\n        .copy(v1.position)\n        .applyMatrix4(_modelViewProjectionMatrix);\n      v2.positionScreen\n        .copy(v2.position)\n        .applyMatrix4(_modelViewProjectionMatrix);\n\n      if (clipLine(v1.positionScreen, v2.positionScreen) === true) {\n        // Perform the perspective divide\n        v1.positionScreen.multiplyScalar(1 / v1.positionScreen.w);\n        v2.positionScreen.multiplyScalar(1 / v2.positionScreen.w);\n\n        _line = getNextLineInPool();\n        _line.id = object.id;\n        _line.v1.copy(v1);\n        _line.v2.copy(v2);\n        _line.z = Math.max(v1.positionScreen.z, v2.positionScreen.z);\n        _line.renderOrder = object.renderOrder;\n\n        _line.material = object.material;\n\n        if (object.material.vertexColors === THREE.VertexColors) {\n          _line.vertexColors[0].fromArray(colors, a * 3);\n          _line.vertexColors[1].fromArray(colors, b * 3);\n        }\n\n        _renderData.elements.push(_line);\n      }\n    }\n\n    function pushTriangle(a, b, c) {\n      var v1 = _vertexPool[a];\n      var v2 = _vertexPool[b];\n      var v3 = _vertexPool[c];\n\n      if (checkTriangleVisibility(v1, v2, v3) === false) return;\n\n      if (\n        material.side === THREE.DoubleSide ||\n        checkBackfaceCulling(v1, v2, v3) === true\n      ) {\n        _face = getNextFaceInPool();\n\n        _face.id = object.id;\n        _face.v1.copy(v1);\n        _face.v2.copy(v2);\n        _face.v3.copy(v3);\n        _face.z =\n          (v1.positionScreen.z + v2.positionScreen.z + v3.positionScreen.z) / 3;\n        _face.renderOrder = object.renderOrder;\n\n        // use first vertex normal as face normal\n\n        _face.normalModel.fromArray(normals, a * 3);\n        _face.normalModel.applyMatrix3(normalMatrix).normalize();\n\n        for (var i = 0; i < 3; i++) {\n          var normal = _face.vertexNormalsModel[i];\n          normal.fromArray(normals, arguments[i] * 3);\n          normal.applyMatrix3(normalMatrix).normalize();\n\n          var uv = _face.uvs[i];\n          uv.fromArray(uvs, arguments[i] * 2);\n        }\n\n        _face.vertexNormalsLength = 3;\n\n        _face.material = object.material;\n\n        _renderData.elements.push(_face);\n      }\n    }\n\n    return {\n      setObject: setObject,\n      projectVertex: projectVertex,\n      checkTriangleVisibility: checkTriangleVisibility,\n      checkBackfaceCulling: checkBackfaceCulling,\n      pushVertex: pushVertex,\n      pushNormal: pushNormal,\n      pushColor: pushColor,\n      pushUv: pushUv,\n      pushLine: pushLine,\n      pushTriangle: pushTriangle\n    };\n  };\n\n  var renderList = new RenderList();\n\n  function projectObject(object) {\n    if (object.visible === false) return;\n\n    if (object instanceof THREE.Light) {\n      _renderData.lights.push(object);\n    } else if (\n      object instanceof THREE.Mesh ||\n      object instanceof THREE.Line ||\n      object instanceof THREE.Points\n    ) {\n      if (object.material.visible === false) return;\n      if (\n        object.frustumCulled === true &&\n        _frustum.intersectsObject(object) === false\n      )\n        return;\n\n      addObject(object);\n    } else if (object instanceof THREE.Sprite) {\n      if (object.material.visible === false) return;\n      if (\n        object.frustumCulled === true &&\n        _frustum.intersectsSprite(object) === false\n      )\n        return;\n\n      addObject(object);\n    }\n\n    var children = object.children;\n\n    for (var i = 0, l = children.length; i < l; i++) {\n      projectObject(children[i]);\n    }\n  }\n\n  function addObject(object) {\n    _object = getNextObjectInPool();\n    _object.id = object.id;\n    _object.object = object;\n\n    _vector3.setFromMatrixPosition(object.matrixWorld);\n    _vector3.applyMatrix4(_viewProjectionMatrix);\n    _object.z = _vector3.z;\n    _object.renderOrder = object.renderOrder;\n\n    _renderData.objects.push(_object);\n  }\n\n  this.projectScene = function(scene, camera, sortObjects, sortElements) {\n    _faceCount = 0;\n    _lineCount = 0;\n    _spriteCount = 0;\n\n    _renderData.elements.length = 0;\n\n    if (scene.autoUpdate === true) scene.updateMatrixWorld();\n    if (camera.parent === null) camera.updateMatrixWorld();\n\n    _viewMatrix.copy(camera.matrixWorldInverse);\n    _viewProjectionMatrix.multiplyMatrices(\n      camera.projectionMatrix,\n      _viewMatrix\n    );\n\n    _frustum.setFromMatrix(_viewProjectionMatrix);\n\n    //\n\n    _objectCount = 0;\n\n    _renderData.objects.length = 0;\n    _renderData.lights.length = 0;\n\n    projectObject(scene);\n\n    if (sortObjects === true) {\n      _renderData.objects.sort(painterSort);\n    }\n\n    //\n\n    var objects = _renderData.objects;\n\n    for (var o = 0, ol = objects.length; o < ol; o++) {\n      var object = objects[o].object;\n      var geometry = object.geometry;\n\n      renderList.setObject(object);\n\n      _modelMatrix = object.matrixWorld;\n\n      _vertexCount = 0;\n\n      if (object instanceof THREE.Mesh) {\n        if (geometry instanceof THREE.BufferGeometry) {\n          var attributes = geometry.attributes;\n          var groups = geometry.groups;\n\n          if (attributes.position === undefined) continue;\n\n          var positions = attributes.position.array;\n\n          for (var i = 0, l = positions.length; i < l; i += 3) {\n            renderList.pushVertex(\n              positions[i],\n              positions[i + 1],\n              positions[i + 2]\n            );\n          }\n\n          if (attributes.normal !== undefined) {\n            var normals = attributes.normal.array;\n\n            for (var i = 0, l = normals.length; i < l; i += 3) {\n              renderList.pushNormal(normals[i], normals[i + 1], normals[i + 2]);\n            }\n          }\n\n          if (attributes.uv !== undefined) {\n            var uvs = attributes.uv.array;\n\n            for (var i = 0, l = uvs.length; i < l; i += 2) {\n              renderList.pushUv(uvs[i], uvs[i + 1]);\n            }\n          }\n\n          if (geometry.index !== null) {\n            var indices = geometry.index.array;\n\n            if (groups.length > 0) {\n              for (var g = 0; g < groups.length; g++) {\n                var group = groups[g];\n\n                for (\n                  var i = group.start, l = group.start + group.count;\n                  i < l;\n                  i += 3\n                ) {\n                  renderList.pushTriangle(\n                    indices[i],\n                    indices[i + 1],\n                    indices[i + 2]\n                  );\n                }\n              }\n            } else {\n              for (var i = 0, l = indices.length; i < l; i += 3) {\n                renderList.pushTriangle(\n                  indices[i],\n                  indices[i + 1],\n                  indices[i + 2]\n                );\n              }\n            }\n          } else {\n            for (var i = 0, l = positions.length / 3; i < l; i += 3) {\n              renderList.pushTriangle(i, i + 1, i + 2);\n            }\n          }\n        } else if (geometry instanceof THREE.Geometry) {\n          var vertices = geometry.vertices;\n          var faces = geometry.faces;\n          var faceVertexUvs = geometry.faceVertexUvs[0];\n\n          _normalMatrix.getNormalMatrix(_modelMatrix);\n\n          var material = object.material;\n\n          var isMultiMaterial = Array.isArray(material);\n\n          for (var v = 0, vl = vertices.length; v < vl; v++) {\n            var vertex = vertices[v];\n\n            _vector3.copy(vertex);\n\n            if (material.morphTargets === true) {\n              var morphTargets = geometry.morphTargets;\n              var morphInfluences = object.morphTargetInfluences;\n\n              for (var t = 0, tl = morphTargets.length; t < tl; t++) {\n                var influence = morphInfluences[t];\n\n                if (influence === 0) continue;\n\n                var target = morphTargets[t];\n                var targetVertex = target.vertices[v];\n\n                _vector3.x += (targetVertex.x - vertex.x) * influence;\n                _vector3.y += (targetVertex.y - vertex.y) * influence;\n                _vector3.z += (targetVertex.z - vertex.z) * influence;\n              }\n            }\n\n            renderList.pushVertex(_vector3.x, _vector3.y, _vector3.z);\n          }\n\n          for (var f = 0, fl = faces.length; f < fl; f++) {\n            var face = faces[f];\n\n            material =\n              isMultiMaterial === true\n                ? object.material[face.materialIndex]\n                : object.material;\n\n            if (material === undefined) continue;\n\n            var side = material.side;\n\n            var v1 = _vertexPool[face.a];\n            var v2 = _vertexPool[face.b];\n            var v3 = _vertexPool[face.c];\n\n            if (renderList.checkTriangleVisibility(v1, v2, v3) === false)\n              continue;\n\n            var visible = renderList.checkBackfaceCulling(v1, v2, v3);\n\n            if (side !== THREE.DoubleSide) {\n              if (side === THREE.FrontSide && visible === false) continue;\n              if (side === THREE.BackSide && visible === true) continue;\n            }\n\n            _face = getNextFaceInPool();\n\n            _face.id = object.id;\n            _face.v1.copy(v1);\n            _face.v2.copy(v2);\n            _face.v3.copy(v3);\n\n            _face.normalModel.copy(face.normal);\n\n            if (\n              visible === false &&\n              (side === THREE.BackSide || side === THREE.DoubleSide)\n            ) {\n              _face.normalModel.negate();\n            }\n\n            _face.normalModel.applyMatrix3(_normalMatrix).normalize();\n\n            var faceVertexNormals = face.vertexNormals;\n\n            for (\n              var n = 0, nl = Math.min(faceVertexNormals.length, 3);\n              n < nl;\n              n++\n            ) {\n              var normalModel = _face.vertexNormalsModel[n];\n              normalModel.copy(faceVertexNormals[n]);\n\n              if (\n                visible === false &&\n                (side === THREE.BackSide || side === THREE.DoubleSide)\n              ) {\n                normalModel.negate();\n              }\n\n              normalModel.applyMatrix3(_normalMatrix).normalize();\n            }\n\n            _face.vertexNormalsLength = faceVertexNormals.length;\n\n            var vertexUvs = faceVertexUvs[f];\n\n            if (vertexUvs !== undefined) {\n              for (var u = 0; u < 3; u++) {\n                _face.uvs[u].copy(vertexUvs[u]);\n              }\n            }\n\n            _face.color = face.color;\n            _face.material = material;\n\n            _face.z =\n              (v1.positionScreen.z +\n                v2.positionScreen.z +\n                v3.positionScreen.z) /\n              3;\n            _face.renderOrder = object.renderOrder;\n\n            _renderData.elements.push(_face);\n          }\n        }\n      } else if (object instanceof THREE.Line) {\n        _modelViewProjectionMatrix.multiplyMatrices(\n          _viewProjectionMatrix,\n          _modelMatrix\n        );\n\n        if (geometry instanceof THREE.BufferGeometry) {\n          var attributes = geometry.attributes;\n\n          if (attributes.position !== undefined) {\n            var positions = attributes.position.array;\n\n            for (var i = 0, l = positions.length; i < l; i += 3) {\n              renderList.pushVertex(\n                positions[i],\n                positions[i + 1],\n                positions[i + 2]\n              );\n            }\n\n            if (attributes.color !== undefined) {\n              var colors = attributes.color.array;\n\n              for (var i = 0, l = colors.length; i < l; i += 3) {\n                renderList.pushColor(colors[i], colors[i + 1], colors[i + 2]);\n              }\n            }\n\n            if (geometry.index !== null) {\n              var indices = geometry.index.array;\n\n              for (var i = 0, l = indices.length; i < l; i += 2) {\n                renderList.pushLine(indices[i], indices[i + 1]);\n              }\n            } else {\n              var step = object instanceof THREE.LineSegments ? 2 : 1;\n\n              for (var i = 0, l = positions.length / 3 - 1; i < l; i += step) {\n                renderList.pushLine(i, i + 1);\n              }\n            }\n          }\n        } else if (geometry instanceof THREE.Geometry) {\n          var vertices = object.geometry.vertices;\n\n          if (vertices.length === 0) continue;\n\n          v1 = getNextVertexInPool();\n          v1.positionScreen\n            .copy(vertices[0])\n            .applyMatrix4(_modelViewProjectionMatrix);\n\n          var step = object instanceof THREE.LineSegments ? 2 : 1;\n\n          for (var v = 1, vl = vertices.length; v < vl; v++) {\n            v1 = getNextVertexInPool();\n            v1.positionScreen\n              .copy(vertices[v])\n              .applyMatrix4(_modelViewProjectionMatrix);\n\n            if ((v + 1) % step > 0) continue;\n\n            v2 = _vertexPool[_vertexCount - 2];\n\n            _clippedVertex1PositionScreen.copy(v1.positionScreen);\n            _clippedVertex2PositionScreen.copy(v2.positionScreen);\n\n            if (\n              clipLine(\n                _clippedVertex1PositionScreen,\n                _clippedVertex2PositionScreen\n              ) === true\n            ) {\n              // Perform the perspective divide\n              _clippedVertex1PositionScreen.multiplyScalar(\n                1 / _clippedVertex1PositionScreen.w\n              );\n              _clippedVertex2PositionScreen.multiplyScalar(\n                1 / _clippedVertex2PositionScreen.w\n              );\n\n              _line = getNextLineInPool();\n\n              _line.id = object.id;\n              _line.v1.positionScreen.copy(_clippedVertex1PositionScreen);\n              _line.v2.positionScreen.copy(_clippedVertex2PositionScreen);\n\n              _line.z = Math.max(\n                _clippedVertex1PositionScreen.z,\n                _clippedVertex2PositionScreen.z\n              );\n              _line.renderOrder = object.renderOrder;\n\n              _line.material = object.material;\n\n              if (object.material.vertexColors === THREE.VertexColors) {\n                _line.vertexColors[0].copy(object.geometry.colors[v]);\n                _line.vertexColors[1].copy(object.geometry.colors[v - 1]);\n              }\n\n              _renderData.elements.push(_line);\n            }\n          }\n        }\n      } else if (object instanceof THREE.Points) {\n        _modelViewProjectionMatrix.multiplyMatrices(\n          _viewProjectionMatrix,\n          _modelMatrix\n        );\n\n        if (geometry instanceof THREE.Geometry) {\n          var vertices = object.geometry.vertices;\n\n          for (var v = 0, vl = vertices.length; v < vl; v++) {\n            var vertex = vertices[v];\n\n            _vector4.set(vertex.x, vertex.y, vertex.z, 1);\n            _vector4.applyMatrix4(_modelViewProjectionMatrix);\n\n            pushPoint(_vector4, object, camera);\n          }\n        } else if (geometry instanceof THREE.BufferGeometry) {\n          var attributes = geometry.attributes;\n\n          if (attributes.position !== undefined) {\n            var positions = attributes.position.array;\n\n            for (var i = 0, l = positions.length; i < l; i += 3) {\n              _vector4.set(positions[i], positions[i + 1], positions[i + 2], 1);\n              _vector4.applyMatrix4(_modelViewProjectionMatrix);\n\n              pushPoint(_vector4, object, camera);\n            }\n          }\n        }\n      } else if (object instanceof THREE.Sprite) {\n        _vector4.set(\n          _modelMatrix.elements[12],\n          _modelMatrix.elements[13],\n          _modelMatrix.elements[14],\n          1\n        );\n        _vector4.applyMatrix4(_viewProjectionMatrix);\n\n        pushPoint(_vector4, object, camera);\n      }\n    }\n\n    if (sortElements === true) {\n      _renderData.elements.sort(painterSort);\n    }\n\n    return _renderData;\n  };\n\n  function pushPoint(_vector4, object, camera) {\n    var invW = 1 / _vector4.w;\n\n    _vector4.z *= invW;\n\n    if (_vector4.z >= -1 && _vector4.z <= 1) {\n      _sprite = getNextSpriteInPool();\n      _sprite.id = object.id;\n      _sprite.x = _vector4.x * invW;\n      _sprite.y = _vector4.y * invW;\n      _sprite.z = _vector4.z;\n      _sprite.renderOrder = object.renderOrder;\n      _sprite.object = object;\n\n      _sprite.rotation = object.rotation;\n\n      _sprite.scale.x =\n        object.scale.x *\n        Math.abs(\n          _sprite.x -\n            (_vector4.x + camera.projectionMatrix.elements[0]) /\n              (_vector4.w + camera.projectionMatrix.elements[12])\n        );\n      _sprite.scale.y =\n        object.scale.y *\n        Math.abs(\n          _sprite.y -\n            (_vector4.y + camera.projectionMatrix.elements[5]) /\n              (_vector4.w + camera.projectionMatrix.elements[13])\n        );\n\n      _sprite.material = object.material;\n\n      _renderData.elements.push(_sprite);\n    }\n  }\n\n  // Pools\n\n  function getNextObjectInPool() {\n    if (_objectCount === _objectPoolLength) {\n      var object = new RenderableObject();\n      _objectPool.push(object);\n      _objectPoolLength++;\n      _objectCount++;\n      return object;\n    }\n\n    return _objectPool[_objectCount++];\n  }\n\n  function getNextVertexInPool() {\n    if (_vertexCount === _vertexPoolLength) {\n      var vertex = new RenderableVertex();\n      _vertexPool.push(vertex);\n      _vertexPoolLength++;\n      _vertexCount++;\n      return vertex;\n    }\n\n    return _vertexPool[_vertexCount++];\n  }\n\n  function getNextFaceInPool() {\n    if (_faceCount === _facePoolLength) {\n      var face = new RenderableFace();\n      _facePool.push(face);\n      _facePoolLength++;\n      _faceCount++;\n      return face;\n    }\n\n    return _facePool[_faceCount++];\n  }\n\n  function getNextLineInPool() {\n    if (_lineCount === _linePoolLength) {\n      var line = new RenderableLine();\n      _linePool.push(line);\n      _linePoolLength++;\n      _lineCount++;\n      return line;\n    }\n\n    return _linePool[_lineCount++];\n  }\n\n  function getNextSpriteInPool() {\n    if (_spriteCount === _spritePoolLength) {\n      var sprite = new RenderableSprite();\n      _spritePool.push(sprite);\n      _spritePoolLength++;\n      _spriteCount++;\n      return sprite;\n    }\n\n    return _spritePool[_spriteCount++];\n  }\n\n  //\n\n  function painterSort(a, b) {\n    if (a.renderOrder !== b.renderOrder) {\n      return a.renderOrder - b.renderOrder;\n    } else if (a.z !== b.z) {\n      return b.z - a.z;\n    } else if (a.id !== b.id) {\n      return a.id - b.id;\n    } else {\n      return 0;\n    }\n  }\n\n  function clipLine(s1, s2) {\n    var alpha1 = 0,\n      alpha2 = 1,\n      // Calculate the boundary coordinate of each vertex for the near and far clip planes,\n      // Z = -1 and Z = +1, respectively.\n\n      bc1near = s1.z + s1.w,\n      bc2near = s2.z + s2.w,\n      bc1far = -s1.z + s1.w,\n      bc2far = -s2.z + s2.w;\n\n    if (bc1near >= 0 && bc2near >= 0 && bc1far >= 0 && bc2far >= 0) {\n      // Both vertices lie entirely within all clip planes.\n      return true;\n    } else if ((bc1near < 0 && bc2near < 0) || (bc1far < 0 && bc2far < 0)) {\n      // Both vertices lie entirely outside one of the clip planes.\n      return false;\n    } else {\n      // The line segment spans at least one clip plane.\n\n      if (bc1near < 0) {\n        // v1 lies outside the near plane, v2 inside\n        alpha1 = Math.max(alpha1, bc1near / (bc1near - bc2near));\n      } else if (bc2near < 0) {\n        // v2 lies outside the near plane, v1 inside\n        alpha2 = Math.min(alpha2, bc1near / (bc1near - bc2near));\n      }\n\n      if (bc1far < 0) {\n        // v1 lies outside the far plane, v2 inside\n        alpha1 = Math.max(alpha1, bc1far / (bc1far - bc2far));\n      } else if (bc2far < 0) {\n        // v2 lies outside the far plane, v2 inside\n        alpha2 = Math.min(alpha2, bc1far / (bc1far - bc2far));\n      }\n\n      if (alpha2 < alpha1) {\n        // The line segment spans two boundaries, but is outside both of them.\n        // (This can't happen when we're only clipping against just near/far but good\n        //  to leave the check here for future usage if other clip planes are added.)\n        return false;\n      } else {\n        // Update the s1 and s2 vertices to match the clipped line segment.\n        s1.lerp(s2, alpha1);\n        s2.lerp(s1, 1 - alpha2);\n\n        return true;\n      }\n    }\n  }\n};\n\nexport const SpriteCanvasMaterial = function(parameters) {\n  THREE.Material.call(this);\n\n  this.type = \"SpriteCanvasMaterial\";\n\n  this.color = new THREE.Color(0xffffff);\n  this.program = function() {};\n\n  this.setValues(parameters);\n};\n\nSpriteCanvasMaterial.prototype = Object.create(THREE.Material.prototype);\nSpriteCanvasMaterial.prototype.constructor = SpriteCanvasMaterial;\nSpriteCanvasMaterial.prototype.isSpriteCanvasMaterial = true;\n\nSpriteCanvasMaterial.prototype.clone = function() {\n  var material = new SpriteCanvasMaterial();\n\n  material.copy(this);\n  material.color.copy(this.color);\n  material.program = this.program;\n\n  return material;\n};\n\n//\n\nexport const CanvasRenderer = function(parameters) {\n  parameters = parameters || {};\n\n  var _this = this,\n    _renderData,\n    _elements,\n    _lights,\n    _projector = new Projector(),\n    _canvas =\n      parameters.canvas !== undefined\n        ? parameters.canvas\n        : document.createElement(\"canvas\"),\n    _canvasWidth = _canvas.width,\n    _canvasHeight = _canvas.height,\n    _canvasWidthHalf = Math.floor(_canvasWidth / 2),\n    _canvasHeightHalf = Math.floor(_canvasHeight / 2),\n    _viewportX = 0,\n    _viewportY = 0,\n    _viewportWidth = _canvasWidth,\n    _viewportHeight = _canvasHeight,\n    _pixelRatio = 1,\n    _context = _canvas.getContext(\"2d\", {\n      alpha: parameters.alpha === true\n    }),\n    _clearColor = new THREE.Color(0x000000),\n    _clearAlpha = parameters.alpha === true ? 0 : 1,\n    _contextGlobalAlpha = 1,\n    _contextGlobalCompositeOperation = 0,\n    _contextStrokeStyle = null,\n    _contextFillStyle = null,\n    _contextLineWidth = null,\n    _contextLineCap = null,\n    _contextLineJoin = null,\n    _contextLineDash = [],\n    _v1,\n    _v2,\n    _v3,\n    _v1x,\n    _v1y,\n    _v2x,\n    _v2y,\n    _v3x,\n    _v3y,\n    _color = new THREE.Color(),\n    _diffuseColor = new THREE.Color(),\n    _emissiveColor = new THREE.Color(),\n    _lightColor = new THREE.Color(),\n    _patterns = {},\n    _uvs,\n    _uv1x,\n    _uv1y,\n    _uv2x,\n    _uv2y,\n    _uv3x,\n    _uv3y,\n    _clipBox = new THREE.Box2(),\n    _clearBox = new THREE.Box2(),\n    _elemBox = new THREE.Box2(),\n    _ambientLight = new THREE.Color(),\n    _directionalLights = new THREE.Color(),\n    _pointLights = new THREE.Color(),\n    _vector3 = new THREE.Vector3(), // Needed for PointLight\n    _centroid = new THREE.Vector3(),\n    _normal = new THREE.Vector3(),\n    _normalViewMatrix = new THREE.Matrix3();\n\n  /* TODO\n    _canvas.mozImageSmoothingEnabled = false;\n    _canvas.webkitImageSmoothingEnabled = false;\n    _canvas.msImageSmoothingEnabled = false;\n    _canvas.imageSmoothingEnabled = false;\n    */\n\n  // dash+gap fallbacks for Firefox and everything else\n\n  if (_context.setLineDash === undefined) {\n    _context.setLineDash = function() {};\n  }\n\n  this.domElement = _canvas;\n\n  this.autoClear = true;\n  this.sortObjects = true;\n  this.sortElements = true;\n\n  this.info = {\n    render: {\n      vertices: 0,\n      faces: 0\n    }\n  };\n\n  // WebGLRenderer compatibility\n\n  this.supportsVertexTextures = function() {};\n  this.setFaceCulling = function() {};\n\n  // API\n\n  this.getContext = function() {\n    return _context;\n  };\n\n  this.getContextAttributes = function() {\n    return _context.getContextAttributes();\n  };\n\n  this.getPixelRatio = function() {\n    return _pixelRatio;\n  };\n\n  this.setPixelRatio = function(value) {\n    if (value !== undefined) _pixelRatio = value;\n  };\n\n  this.setSize = function(width, height, updateStyle) {\n    _canvasWidth = width * _pixelRatio;\n    _canvasHeight = height * _pixelRatio;\n\n    _canvas.width = _canvasWidth;\n    _canvas.height = _canvasHeight;\n\n    _canvasWidthHalf = Math.floor(_canvasWidth / 2);\n    _canvasHeightHalf = Math.floor(_canvasHeight / 2);\n\n    if (updateStyle !== false) {\n      _canvas.style.width = width + \"px\";\n      _canvas.style.height = height + \"px\";\n    }\n\n    _clipBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);\n    _clipBox.max.set(_canvasWidthHalf, _canvasHeightHalf);\n\n    _clearBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);\n    _clearBox.max.set(_canvasWidthHalf, _canvasHeightHalf);\n\n    _contextGlobalAlpha = 1;\n    _contextGlobalCompositeOperation = 0;\n    _contextStrokeStyle = null;\n    _contextFillStyle = null;\n    _contextLineWidth = null;\n    _contextLineCap = null;\n    _contextLineJoin = null;\n\n    this.setViewport(0, 0, width, height);\n  };\n\n  this.setViewport = function(x, y, width, height) {\n    _viewportX = x * _pixelRatio;\n    _viewportY = y * _pixelRatio;\n\n    _viewportWidth = width * _pixelRatio;\n    _viewportHeight = height * _pixelRatio;\n  };\n\n  this.setScissor = function() {};\n  this.setScissorTest = function() {};\n\n  this.setClearColor = function(color, alpha) {\n    _clearColor.set(color);\n    _clearAlpha = alpha !== undefined ? alpha : 1;\n\n    _clearBox.min.set(-_canvasWidthHalf, -_canvasHeightHalf);\n    _clearBox.max.set(_canvasWidthHalf, _canvasHeightHalf);\n  };\n\n  this.setClearColorHex = function(hex, alpha) {\n    console.warn(\n      \"THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead.\"\n    );\n    this.setClearColor(hex, alpha);\n  };\n\n  this.getClearColor = function() {\n    return _clearColor;\n  };\n\n  this.getClearAlpha = function() {\n    return _clearAlpha;\n  };\n\n  this.getMaxAnisotropy = function() {\n    return 0;\n  };\n\n  this.clear = function() {\n    if (_clearBox.isEmpty() === false) {\n      _clearBox.intersect(_clipBox);\n      _clearBox.expandByScalar(2);\n\n      _clearBox.min.x = _clearBox.min.x + _canvasWidthHalf;\n      _clearBox.min.y = -_clearBox.min.y + _canvasHeightHalf; // higher y value !\n      _clearBox.max.x = _clearBox.max.x + _canvasWidthHalf;\n      _clearBox.max.y = -_clearBox.max.y + _canvasHeightHalf; // lower y value !\n\n      if (_clearAlpha < 1) {\n        _context.clearRect(\n          _clearBox.min.x | 0,\n          _clearBox.max.y | 0,\n          (_clearBox.max.x - _clearBox.min.x) | 0,\n          (_clearBox.min.y - _clearBox.max.y) | 0\n        );\n      }\n\n      if (_clearAlpha > 0) {\n        setOpacity(1);\n        setBlending(THREE.NormalBlending);\n\n        setFillStyle(\n          \"rgba(\" +\n            Math.floor(_clearColor.r * 255) +\n            \",\" +\n            Math.floor(_clearColor.g * 255) +\n            \",\" +\n            Math.floor(_clearColor.b * 255) +\n            \",\" +\n            _clearAlpha +\n            \")\"\n        );\n\n        _context.fillRect(\n          _clearBox.min.x | 0,\n          _clearBox.max.y | 0,\n          (_clearBox.max.x - _clearBox.min.x) | 0,\n          (_clearBox.min.y - _clearBox.max.y) | 0\n        );\n      }\n\n      _clearBox.makeEmpty();\n    }\n  };\n\n  // compatibility\n\n  this.clearColor = function() {};\n  this.clearDepth = function() {};\n  this.clearStencil = function() {};\n\n  this.render = function(scene, camera) {\n    if (camera.isCamera === undefined) {\n      console.error(\n        \"THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.\"\n      );\n      return;\n    }\n\n    var background = scene.background;\n\n    if (background && background.isColor) {\n      setOpacity(1);\n      setBlending(THREE.NormalBlending);\n\n      setFillStyle(background.getStyle());\n      _context.fillRect(0, 0, _canvasWidth, _canvasHeight);\n    } else if (this.autoClear === true) {\n      this.clear();\n    }\n\n    _this.info.render.vertices = 0;\n    _this.info.render.faces = 0;\n\n    _context.setTransform(\n      _viewportWidth / _canvasWidth,\n      0,\n      0,\n      -_viewportHeight / _canvasHeight,\n      _viewportX,\n      _canvasHeight - _viewportY\n    );\n    _context.translate(_canvasWidthHalf, _canvasHeightHalf);\n\n    _renderData = _projector.projectScene(\n      scene,\n      camera,\n      this.sortObjects,\n      this.sortElements\n    );\n    _elements = _renderData.elements;\n    _lights = _renderData.lights;\n\n    _normalViewMatrix.getNormalMatrix(camera.matrixWorldInverse);\n\n    /* DEBUG\n        setFillStyle( 'rgba( 0, 255, 255, 0.5 )' );\n        _context.fillRect( _clipBox.min.x, _clipBox.min.y, _clipBox.max.x - _clipBox.min.x, _clipBox.max.y - _clipBox.min.y );\n        */\n\n    calculateLights();\n\n    for (var e = 0, el = _elements.length; e < el; e++) {\n      var element = _elements[e];\n\n      var material = element.material;\n\n      if (material === undefined || material.opacity === 0) continue;\n\n      _elemBox.makeEmpty();\n\n      if (element instanceof RenderableSprite) {\n        _v1 = element;\n        _v1.x *= _canvasWidthHalf;\n        _v1.y *= _canvasHeightHalf;\n\n        renderSprite(_v1, element, material);\n      } else if (element instanceof RenderableLine) {\n        _v1 = element.v1;\n        _v2 = element.v2;\n\n        _v1.positionScreen.x *= _canvasWidthHalf;\n        _v1.positionScreen.y *= _canvasHeightHalf;\n        _v2.positionScreen.x *= _canvasWidthHalf;\n        _v2.positionScreen.y *= _canvasHeightHalf;\n\n        _elemBox.setFromPoints([_v1.positionScreen, _v2.positionScreen]);\n\n        if (_clipBox.intersectsBox(_elemBox) === true) {\n          renderLine(_v1, _v2, element, material);\n        }\n      } else if (element instanceof RenderableFace) {\n        _v1 = element.v1;\n        _v2 = element.v2;\n        _v3 = element.v3;\n\n        if (_v1.positionScreen.z < -1 || _v1.positionScreen.z > 1) continue;\n        if (_v2.positionScreen.z < -1 || _v2.positionScreen.z > 1) continue;\n        if (_v3.positionScreen.z < -1 || _v3.positionScreen.z > 1) continue;\n\n        _v1.positionScreen.x *= _canvasWidthHalf;\n        _v1.positionScreen.y *= _canvasHeightHalf;\n        _v2.positionScreen.x *= _canvasWidthHalf;\n        _v2.positionScreen.y *= _canvasHeightHalf;\n        _v3.positionScreen.x *= _canvasWidthHalf;\n        _v3.positionScreen.y *= _canvasHeightHalf;\n\n        if (material.overdraw > 0) {\n          expand(_v1.positionScreen, _v2.positionScreen, material.overdraw);\n          expand(_v2.positionScreen, _v3.positionScreen, material.overdraw);\n          expand(_v3.positionScreen, _v1.positionScreen, material.overdraw);\n        }\n\n        _elemBox.setFromPoints([\n          _v1.positionScreen,\n          _v2.positionScreen,\n          _v3.positionScreen\n        ]);\n\n        if (_clipBox.intersectsBox(_elemBox) === true) {\n          renderFace3(_v1, _v2, _v3, 0, 1, 2, element, material);\n        }\n      }\n\n      /* DEBUG\n            setLineWidth( 1 );\n            setStrokeStyle( 'rgba( 0, 255, 0, 0.5 )' );\n            _context.strokeRect( _elemBox.min.x, _elemBox.min.y, _elemBox.max.x - _elemBox.min.x, _elemBox.max.y - _elemBox.min.y );\n            */\n\n      _clearBox.union(_elemBox);\n    }\n\n    /* DEBUG\n        setLineWidth( 1 );\n        setStrokeStyle( 'rgba( 255, 0, 0, 0.5 )' );\n        _context.strokeRect( _clearBox.min.x, _clearBox.min.y, _clearBox.max.x - _clearBox.min.x, _clearBox.max.y - _clearBox.min.y );\n        */\n\n    _context.setTransform(1, 0, 0, 1, 0, 0);\n  };\n\n  //\n\n  function calculateLights() {\n    _ambientLight.setRGB(0, 0, 0);\n    _directionalLights.setRGB(0, 0, 0);\n    _pointLights.setRGB(0, 0, 0);\n\n    for (var l = 0, ll = _lights.length; l < ll; l++) {\n      var light = _lights[l];\n      var lightColor = light.color;\n\n      if (light.isAmbientLight) {\n        _ambientLight.add(lightColor);\n      } else if (light.isDirectionalLight) {\n        // for sprites\n\n        _directionalLights.add(lightColor);\n      } else if (light.isPointLight) {\n        // for sprites\n\n        _pointLights.add(lightColor);\n      }\n    }\n  }\n\n  function calculateLight(position, normal, color) {\n    for (var l = 0, ll = _lights.length; l < ll; l++) {\n      var light = _lights[l];\n\n      _lightColor.copy(light.color);\n\n      if (light.isDirectionalLight) {\n        var lightPosition = _vector3\n          .setFromMatrixPosition(light.matrixWorld)\n          .normalize();\n\n        var amount = normal.dot(lightPosition);\n\n        if (amount <= 0) continue;\n\n        amount *= light.intensity;\n\n        color.add(_lightColor.multiplyScalar(amount));\n      } else if (light.isPointLight) {\n        var lightPosition = _vector3.setFromMatrixPosition(light.matrixWorld);\n\n        var amount = normal.dot(\n          _vector3.subVectors(lightPosition, position).normalize()\n        );\n\n        if (amount <= 0) continue;\n\n        amount *=\n          light.distance == 0\n            ? 1\n            : 1 -\n              Math.min(position.distanceTo(lightPosition) / light.distance, 1);\n\n        if (amount == 0) continue;\n\n        amount *= light.intensity;\n\n        color.add(_lightColor.multiplyScalar(amount));\n      }\n    }\n  }\n\n  function renderSprite(v1, element, material) {\n    setOpacity(material.opacity);\n    setBlending(material.blending);\n\n    var scaleX = element.scale.x * _canvasWidthHalf;\n    var scaleY = element.scale.y * _canvasHeightHalf;\n\n    var dist = Math.sqrt(scaleX * scaleX + scaleY * scaleY); // allow for rotated sprite\n    _elemBox.min.set(v1.x - dist, v1.y - dist);\n    _elemBox.max.set(v1.x + dist, v1.y + dist);\n\n    if (material.isSpriteMaterial) {\n      var texture = material.map;\n\n      if (texture !== null) {\n        var pattern = _patterns[texture.id];\n\n        if (pattern === undefined || pattern.version !== texture.version) {\n          pattern = textureToPattern(texture);\n          _patterns[texture.id] = pattern;\n        }\n\n        if (pattern.canvas !== undefined) {\n          setFillStyle(pattern.canvas);\n\n          var bitmap = texture.image;\n\n          var ox = bitmap.width * texture.offset.x;\n          var oy = bitmap.height * texture.offset.y;\n\n          var sx = bitmap.width * texture.repeat.x;\n          var sy = bitmap.height * texture.repeat.y;\n\n          var cx = scaleX / sx;\n          var cy = scaleY / sy;\n\n          _context.save();\n          _context.translate(v1.x, v1.y);\n          if (material.rotation !== 0) _context.rotate(material.rotation);\n          _context.translate(-scaleX / 2, -scaleY / 2);\n          _context.scale(cx, cy);\n          _context.translate(-ox, -oy);\n          _context.fillRect(ox, oy, sx, sy);\n          _context.restore();\n        }\n      } else {\n        // no texture\n\n        setFillStyle(material.color.getStyle());\n\n        _context.save();\n        _context.translate(v1.x, v1.y);\n        if (material.rotation !== 0) _context.rotate(material.rotation);\n        _context.scale(scaleX, -scaleY);\n        _context.fillRect(-0.5, -0.5, 1, 1);\n        _context.restore();\n      }\n    } else if (material.isSpriteCanvasMaterial) {\n      setStrokeStyle(material.color.getStyle());\n      setFillStyle(material.color.getStyle());\n\n      _context.save();\n      _context.translate(v1.x, v1.y);\n      if (material.rotation !== 0) _context.rotate(material.rotation);\n      _context.scale(scaleX, scaleY);\n\n      material.program(_context);\n\n      _context.restore();\n    } else if (material.isPointsMaterial) {\n      setFillStyle(material.color.getStyle());\n\n      _context.save();\n      _context.translate(v1.x, v1.y);\n      if (material.rotation !== 0) _context.rotate(material.rotation);\n      _context.scale(scaleX * material.size, -scaleY * material.size);\n      _context.fillRect(-0.5, -0.5, 1, 1);\n      _context.restore();\n    }\n\n    /* DEBUG\n        setStrokeStyle( 'rgb(255,255,0)' );\n        _context.beginPath();\n        _context.moveTo( v1.x - 10, v1.y );\n        _context.lineTo( v1.x + 10, v1.y );\n        _context.moveTo( v1.x, v1.y - 10 );\n        _context.lineTo( v1.x, v1.y + 10 );\n        _context.stroke();\n        */\n  }\n\n  function renderLine(v1, v2, element, material) {\n    setOpacity(material.opacity);\n    setBlending(material.blending);\n\n    _context.beginPath();\n    _context.moveTo(v1.positionScreen.x, v1.positionScreen.y);\n    _context.lineTo(v2.positionScreen.x, v2.positionScreen.y);\n\n    if (material.isLineBasicMaterial) {\n      setLineWidth(material.linewidth);\n      setLineCap(material.linecap);\n      setLineJoin(material.linejoin);\n\n      if (material.vertexColors !== THREE.VertexColors) {\n        setStrokeStyle(material.color.getStyle());\n      } else {\n        var colorStyle1 = element.vertexColors[0].getStyle();\n        var colorStyle2 = element.vertexColors[1].getStyle();\n\n        if (colorStyle1 === colorStyle2) {\n          setStrokeStyle(colorStyle1);\n        } else {\n          try {\n            var grad = _context.createLinearGradient(\n              v1.positionScreen.x,\n              v1.positionScreen.y,\n              v2.positionScreen.x,\n              v2.positionScreen.y\n            );\n            grad.addColorStop(0, colorStyle1);\n            grad.addColorStop(1, colorStyle2);\n          } catch (exception) {\n            grad = colorStyle1;\n          }\n\n          setStrokeStyle(grad);\n        }\n      }\n\n      if (material.isLineDashedMaterial) {\n        setLineDash([material.dashSize, material.gapSize]);\n      }\n\n      _context.stroke();\n      _elemBox.expandByScalar(material.linewidth * 2);\n\n      if (material.isLineDashedMaterial) {\n        setLineDash([]);\n      }\n    }\n  }\n\n  function renderFace3(v1, v2, v3, uv1, uv2, uv3, element, material) {\n    _this.info.render.vertices += 3;\n    _this.info.render.faces++;\n\n    setOpacity(material.opacity);\n    setBlending(material.blending);\n\n    _v1x = v1.positionScreen.x;\n    _v1y = v1.positionScreen.y;\n    _v2x = v2.positionScreen.x;\n    _v2y = v2.positionScreen.y;\n    _v3x = v3.positionScreen.x;\n    _v3y = v3.positionScreen.y;\n\n    drawTriangle(_v1x, _v1y, _v2x, _v2y, _v3x, _v3y);\n\n    if (\n      (material.isMeshLambertMaterial ||\n        material.isMeshPhongMaterial ||\n        material.isMeshStandardMaterial) &&\n      material.map === null\n    ) {\n      _diffuseColor.copy(material.color);\n      _emissiveColor.copy(material.emissive);\n\n      if (material.vertexColors === THREE.FaceColors) {\n        _diffuseColor.multiply(element.color);\n      }\n\n      _color.copy(_ambientLight);\n\n      _centroid\n        .copy(v1.positionWorld)\n        .add(v2.positionWorld)\n        .add(v3.positionWorld)\n        .divideScalar(3);\n\n      calculateLight(_centroid, element.normalModel, _color);\n\n      _color.multiply(_diffuseColor).add(_emissiveColor);\n\n      material.wireframe === true\n        ? strokePath(\n            _color,\n            material.wireframeLinewidth,\n            material.wireframeLinecap,\n            material.wireframeLinejoin\n          )\n        : fillPath(_color);\n    } else if (\n      material.isMeshBasicMaterial ||\n      material.isMeshLambertMaterial ||\n      material.isMeshPhongMaterial ||\n      material.isMeshStandardMaterial\n    ) {\n      if (material.map !== null) {\n        var mapping = material.map.mapping;\n\n        if (mapping === THREE.UVMapping) {\n          _uvs = element.uvs;\n          patternPath(\n            _v1x,\n            _v1y,\n            _v2x,\n            _v2y,\n            _v3x,\n            _v3y,\n            _uvs[uv1].x,\n            _uvs[uv1].y,\n            _uvs[uv2].x,\n            _uvs[uv2].y,\n            _uvs[uv3].x,\n            _uvs[uv3].y,\n            material.map\n          );\n        }\n      } else if (material.envMap !== null) {\n        if (material.envMap.mapping === THREE.SphericalReflectionMapping) {\n          _normal\n            .copy(element.vertexNormalsModel[uv1])\n            .applyMatrix3(_normalViewMatrix);\n          _uv1x = 0.5 * _normal.x + 0.5;\n          _uv1y = 0.5 * _normal.y + 0.5;\n\n          _normal\n            .copy(element.vertexNormalsModel[uv2])\n            .applyMatrix3(_normalViewMatrix);\n          _uv2x = 0.5 * _normal.x + 0.5;\n          _uv2y = 0.5 * _normal.y + 0.5;\n\n          _normal\n            .copy(element.vertexNormalsModel[uv3])\n            .applyMatrix3(_normalViewMatrix);\n          _uv3x = 0.5 * _normal.x + 0.5;\n          _uv3y = 0.5 * _normal.y + 0.5;\n\n          patternPath(\n            _v1x,\n            _v1y,\n            _v2x,\n            _v2y,\n            _v3x,\n            _v3y,\n            _uv1x,\n            _uv1y,\n            _uv2x,\n            _uv2y,\n            _uv3x,\n            _uv3y,\n            material.envMap\n          );\n        }\n      } else {\n        _color.copy(material.color);\n\n        if (material.vertexColors === THREE.FaceColors) {\n          _color.multiply(element.color);\n        }\n\n        material.wireframe === true\n          ? strokePath(\n              _color,\n              material.wireframeLinewidth,\n              material.wireframeLinecap,\n              material.wireframeLinejoin\n            )\n          : fillPath(_color);\n      }\n    } else if (material.isMeshNormalMaterial) {\n      _normal.copy(element.normalModel).applyMatrix3(_normalViewMatrix);\n\n      _color\n        .setRGB(_normal.x, _normal.y, _normal.z)\n        .multiplyScalar(0.5)\n        .addScalar(0.5);\n\n      material.wireframe === true\n        ? strokePath(\n            _color,\n            material.wireframeLinewidth,\n            material.wireframeLinecap,\n            material.wireframeLinejoin\n          )\n        : fillPath(_color);\n    } else {\n      _color.setRGB(1, 1, 1);\n\n      material.wireframe === true\n        ? strokePath(\n            _color,\n            material.wireframeLinewidth,\n            material.wireframeLinecap,\n            material.wireframeLinejoin\n          )\n        : fillPath(_color);\n    }\n  }\n\n  //\n\n  function drawTriangle(x0, y0, x1, y1, x2, y2) {\n    _context.beginPath();\n    _context.moveTo(x0, y0);\n    _context.lineTo(x1, y1);\n    _context.lineTo(x2, y2);\n    _context.closePath();\n  }\n\n  function strokePath(color, linewidth, linecap, linejoin) {\n    setLineWidth(linewidth);\n    setLineCap(linecap);\n    setLineJoin(linejoin);\n    setStrokeStyle(color.getStyle());\n\n    _context.stroke();\n\n    _elemBox.expandByScalar(linewidth * 2);\n  }\n\n  function fillPath(color) {\n    setFillStyle(color.getStyle());\n    _context.fill();\n  }\n\n  function textureToPattern(texture) {\n    if (\n      texture.version === 0 ||\n      texture instanceof THREE.CompressedTexture ||\n      texture instanceof THREE.DataTexture\n    ) {\n      return {\n        canvas: undefined,\n        version: texture.version\n      };\n    }\n\n    var image = texture.image;\n\n    if (image.complete === false) {\n      return {\n        canvas: undefined,\n        version: 0\n      };\n    }\n\n    var repeatX =\n      texture.wrapS === THREE.RepeatWrapping ||\n      texture.wrapS === THREE.MirroredRepeatWrapping;\n    var repeatY =\n      texture.wrapT === THREE.RepeatWrapping ||\n      texture.wrapT === THREE.MirroredRepeatWrapping;\n\n    var mirrorX = texture.wrapS === THREE.MirroredRepeatWrapping;\n    var mirrorY = texture.wrapT === THREE.MirroredRepeatWrapping;\n\n    //\n\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = image.width * (mirrorX ? 2 : 1);\n    canvas.height = image.height * (mirrorY ? 2 : 1);\n\n    var context = canvas.getContext(\"2d\");\n    context.setTransform(1, 0, 0, -1, 0, image.height);\n    context.drawImage(image, 0, 0);\n\n    if (mirrorX === true) {\n      context.setTransform(-1, 0, 0, -1, image.width, image.height);\n      context.drawImage(image, -image.width, 0);\n    }\n\n    if (mirrorY === true) {\n      context.setTransform(1, 0, 0, 1, 0, 0);\n      context.drawImage(image, 0, image.height);\n    }\n\n    if (mirrorX === true && mirrorY === true) {\n      context.setTransform(-1, 0, 0, 1, image.width, 0);\n      context.drawImage(image, -image.width, image.height);\n    }\n\n    var repeat = \"no-repeat\";\n\n    if (repeatX === true && repeatY === true) {\n      repeat = \"repeat\";\n    } else if (repeatX === true) {\n      repeat = \"repeat-x\";\n    } else if (repeatY === true) {\n      repeat = \"repeat-y\";\n    }\n\n    var pattern = _context.createPattern(canvas, repeat);\n\n    if (texture.onUpdate) texture.onUpdate(texture);\n\n    return {\n      canvas: pattern,\n      version: texture.version\n    };\n  }\n\n  function patternPath(\n    x0,\n    y0,\n    x1,\n    y1,\n    x2,\n    y2,\n    u0,\n    v0,\n    u1,\n    v1,\n    u2,\n    v2,\n    texture\n  ) {\n    var pattern = _patterns[texture.id];\n\n    if (pattern === undefined || pattern.version !== texture.version) {\n      pattern = textureToPattern(texture);\n      _patterns[texture.id] = pattern;\n    }\n\n    if (pattern.canvas !== undefined) {\n      setFillStyle(pattern.canvas);\n    } else {\n      setFillStyle(\"rgba( 0, 0, 0, 1)\");\n      _context.fill();\n      return;\n    }\n\n    // http://extremelysatisfactorytotalitarianism.com/blog/?p=2120\n\n    var a,\n      b,\n      c,\n      d,\n      e,\n      f,\n      det,\n      idet,\n      offsetX = texture.offset.x / texture.repeat.x,\n      offsetY = texture.offset.y / texture.repeat.y,\n      width = texture.image.width * texture.repeat.x,\n      height = texture.image.height * texture.repeat.y;\n\n    u0 = (u0 + offsetX) * width;\n    v0 = (v0 + offsetY) * height;\n\n    u1 = (u1 + offsetX) * width;\n    v1 = (v1 + offsetY) * height;\n\n    u2 = (u2 + offsetX) * width;\n    v2 = (v2 + offsetY) * height;\n\n    x1 -= x0;\n    y1 -= y0;\n    x2 -= x0;\n    y2 -= y0;\n\n    u1 -= u0;\n    v1 -= v0;\n    u2 -= u0;\n    v2 -= v0;\n\n    det = u1 * v2 - u2 * v1;\n\n    if (det === 0) return;\n\n    idet = 1 / det;\n\n    a = (v2 * x1 - v1 * x2) * idet;\n    b = (v2 * y1 - v1 * y2) * idet;\n    c = (u1 * x2 - u2 * x1) * idet;\n    d = (u1 * y2 - u2 * y1) * idet;\n\n    e = x0 - a * u0 - c * v0;\n    f = y0 - b * u0 - d * v0;\n\n    _context.save();\n    _context.transform(a, b, c, d, e, f);\n    _context.fill();\n    _context.restore();\n  }\n\n  /*\n    function clipImage( x0, y0, x1, y1, x2, y2, u0, v0, u1, v1, u2, v2, image ) {\n        // http://extremelysatisfactorytotalitarianism.com/blog/?p=2120\n        var a, b, c, d, e, f, det, idet,\n        width = image.width - 1,\n        height = image.height - 1;\n        u0 *= width; v0 *= height;\n        u1 *= width; v1 *= height;\n        u2 *= width; v2 *= height;\n        x1 -= x0; y1 -= y0;\n        x2 -= x0; y2 -= y0;\n        u1 -= u0; v1 -= v0;\n        u2 -= u0; v2 -= v0;\n        det = u1 * v2 - u2 * v1;\n        idet = 1 / det;\n        a = ( v2 * x1 - v1 * x2 ) * idet;\n        b = ( v2 * y1 - v1 * y2 ) * idet;\n        c = ( u1 * x2 - u2 * x1 ) * idet;\n        d = ( u1 * y2 - u2 * y1 ) * idet;\n        e = x0 - a * u0 - c * v0;\n        f = y0 - b * u0 - d * v0;\n        _context.save();\n        _context.transform( a, b, c, d, e, f );\n        _context.clip();\n        _context.drawImage( image, 0, 0 );\n        _context.restore();\n    }\n    */\n\n  // Hide anti-alias gaps\n\n  function expand(v1, v2, pixels) {\n    var x = v2.x - v1.x,\n      y = v2.y - v1.y,\n      det = x * x + y * y,\n      idet;\n\n    if (det === 0) return;\n\n    idet = pixels / Math.sqrt(det);\n\n    x *= idet;\n    y *= idet;\n\n    v2.x += x;\n    v2.y += y;\n    v1.x -= x;\n    v1.y -= y;\n  }\n\n  // Context cached methods.\n\n  function setOpacity(value) {\n    if (_contextGlobalAlpha !== value) {\n      _context.globalAlpha = value;\n      _contextGlobalAlpha = value;\n    }\n  }\n\n  function setBlending(value) {\n    if (_contextGlobalCompositeOperation !== value) {\n      if (value === THREE.NormalBlending) {\n        _context.globalCompositeOperation = \"source-over\";\n      } else if (value === THREE.AdditiveBlending) {\n        _context.globalCompositeOperation = \"lighter\";\n      } else if (value === THREE.SubtractiveBlending) {\n        _context.globalCompositeOperation = \"darker\";\n      } else if (value === THREE.MultiplyBlending) {\n        _context.globalCompositeOperation = \"multiply\";\n      }\n\n      _contextGlobalCompositeOperation = value;\n    }\n  }\n\n  function setLineWidth(value) {\n    if (_contextLineWidth !== value) {\n      _context.lineWidth = value;\n      _contextLineWidth = value;\n    }\n  }\n\n  function setLineCap(value) {\n    // \"butt\", \"round\", \"square\"\n\n    if (_contextLineCap !== value) {\n      _context.lineCap = value;\n      _contextLineCap = value;\n    }\n  }\n\n  function setLineJoin(value) {\n    // \"round\", \"bevel\", \"miter\"\n\n    if (_contextLineJoin !== value) {\n      _context.lineJoin = value;\n      _contextLineJoin = value;\n    }\n  }\n\n  function setStrokeStyle(value) {\n    if (_contextStrokeStyle !== value) {\n      _context.strokeStyle = value;\n      _contextStrokeStyle = value;\n    }\n  }\n\n  function setFillStyle(value) {\n    if (_contextFillStyle !== value) {\n      _context.fillStyle = value;\n      _contextFillStyle = value;\n    }\n  }\n\n  function setLineDash(value) {\n    if (_contextLineDash.length !== value.length) {\n      _context.setLineDash(value);\n      _contextLineDash = value;\n    }\n  }\n};\n","import React, { Component } from \"react\";\nimport { PerspectiveCamera, Scene, Sprite } from \"three\";\nimport { CanvasRenderer, SpriteCanvasMaterial } from \"./three-canvas-renderer\";\n\nexport default class Waves extends Component {\n  static defaultProps = {\n    color: \"#868686\",\n    separation: 100,\n    height: 50,\n    amountX: 50,\n    amountY: 50,\n    speed: 0.5,\n    scale: 8\n  };\n\n  componentDidMount() {\n    this.wave = new WaveScene(this.el, { color: this.props.color });\n  }\n\n  componentWillUnmount() {\n    this.wave.destroy();\n  }\n\n  render() {\n    const {\n      color,\n      separation,\n      height,\n      amountX,\n      amountY,\n      speed,\n      ...rest\n    } = this.props;\n    return <div ref={el => (this.el = el)} {...rest} />;\n  }\n}\n\nclass WaveScene {\n  constructor(el, opts = {}) {\n    this.el = el;\n    this.opts = {\n      color: 0xffffff,\n      separation: 100,\n      height: 50,\n      amountX: 50,\n      amountY: 50,\n      speed: 1,\n      scale: 4,\n      ...opts\n    };\n\n    this.camera = new PerspectiveCamera(\n      75,\n      this.el.offsetWidth / this.el.offsetHeight,\n      1,\n      10000\n    );\n    this.camera.position.z = 1000;\n    this.scene = new Scene();\n    this.particles = [];\n    this.count = 0;\n    this.animationFrameId = undefined;\n    this.mouseX = 0;\n    this.mouseY = 0;\n    this.elHalfX = this.el.offsetWidth / 2;\n    this.elHalfY = this.el.offsetHeight / 2;\n    this.registeredListeners = [];\n\n    this.material = new SpriteCanvasMaterial({\n      color: this.opts.color,\n      program: function(context) {\n        context.beginPath();\n        context.arc(0, 0, 0.5, 0, Math.PI * 2, true);\n        context.fill();\n      }\n    });\n\n    this.init();\n    this.animate();\n  }\n\n  init() {\n    var i = 0;\n    for (var ix = 0; ix < this.opts.amountX; ix++) {\n      for (var iy = 0; iy < this.opts.amountY; iy++) {\n        const particle = (this.particles[i++] = new Sprite(this.material));\n        particle.position.x =\n          ix * this.opts.separation -\n          (this.opts.amountX * this.opts.separation) / 2;\n        particle.position.z =\n          iy * this.opts.separation -\n          (this.opts.amountY * this.opts.separation) / 2;\n        this.scene.add(particle);\n      }\n    }\n    this.renderer = new CanvasRenderer({ alpha: true });\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.renderer.setSize(this.el.offsetWidth, this.el.offsetHeight);\n\n    this.el.appendChild(this.renderer.domElement);\n    this.registerListener(this.el, \"mousemove\", evt =>\n      this.onDocumentMouseMove(evt)\n    );\n    this.registerListener(this.el, \"touchstart\", evt =>\n      this.onDocumentTouch(evt)\n    );\n    this.registerListener(this.el, \"touchmove\", evt =>\n      this.onDocumentTouch(evt)\n    );\n    this.registerListener(window, \"resize\", evt => this.onWindowResize(evt));\n  }\n\n  registerListener(obj, evtName, callback) {\n    obj.addEventListener(evtName, callback, false);\n    this.registeredListeners.push(() =>\n      obj.removeEventListener(evtName, callback)\n    );\n  }\n\n  onWindowResize() {\n    this.elHalfX = this.el.offsetWidth / 2;\n    this.elHalfY = this.el.offsetHeight / 2;\n    this.camera.aspect = this.el.offsetWidth / this.el.offsetHeight;\n    this.camera.updateProjectionMatrix();\n    this.renderer.setSize(this.el.offsetWidth, this.el.offsetHeight);\n  }\n\n  onDocumentMouseMove(event) {\n    this.mouseX = event.clientX - this.elHalfX;\n    this.mouseY = event.clientY - this.elHalfY;\n  }\n\n  onDocumentTouch(event) {\n    if (event.touches.length === 1) {\n      event.preventDefault();\n      this.mouseX = event.touches[0].pageX - this.elHalfX;\n      this.mouseY = event.touches[0].pageY - this.elHalfY;\n    }\n  }\n\n  animate() {\n    this.animationFrameId = window.requestAnimationFrame(() => this.animate());\n    this.render3d();\n  }\n\n  render3d() {\n    this.camera.position.x += (220 - this.camera.position.x) * 0.05;\n    this.camera.position.y += (320 - this.camera.position.y) * 0.05;\n    this.camera.lookAt(this.scene.position);\n    var i = 0;\n    for (var ix = 0; ix < this.opts.amountX; ix++) {\n      for (var iy = 0; iy < this.opts.amountY; iy++) {\n        const particle = this.particles[i++];\n        particle.position.y =\n          Math.sin((ix + this.count) * 0.3) * this.opts.height +\n          Math.sin((iy + this.count) * 0.5) * 50;\n        particle.scale.x = particle.scale.y =\n          (Math.sin((ix + this.count) * 0.3) + 1) * 4 +\n          (Math.sin((iy + this.count) * 0.5) + 1) * this.opts.scale;\n      }\n    }\n    this.renderer.render(this.scene, this.camera);\n    this.count += 0.1 * this.opts.speed;\n  }\n\n  updateOpts(nextOpts) {\n    this.opts = Object.keys(this.opts).reduce((acc, key) => {\n      acc[key] = nextOpts[key] !== undefined ? nextOpts[key] : this.opts[key];\n      return acc;\n    }, {});\n\n    this.material.setValues({ color: this.opts.color });\n  }\n\n  destroy() {\n    window.cancelAnimationFrame(this.animationFrameId);\n    this.el.removeChild(this.renderer.domElement);\n    this.particles.forEach(particle => this.scene.remove(particle));\n    this.material.dispose();\n    this.scene.children = [];\n    this.registeredListeners.forEach(unbind => unbind());\n    this.renderer.domElement = null;\n    this.el = null;\n    this.scene = null;\n    this.projector = null;\n    this.camera = null;\n    this.material = null;\n  }\n}\n","import React, { Component, Fragment } from \"react\";\nimport Waves from \"../Waves\";\nimport ReactSVG from \"react-svg\";\nimport styles from \"./styles.module.scss\";\n\nclass Main extends Component {\n  render() {\n    return (\n      <Fragment>\n        <div className={\"container\"} style={{ textAlign: \"center\" }}>\n          <div className={styles.topText}>\n            <h3>МЫ ПОСТРОИМ ДЕТСКИЙ ДОМ!</h3>\n          </div>\n          <div className={styles.logo}>\n            <ReactSVG src={\"svg/logo.svg\"} />\n            <h1> VOCRUM</h1>\n          </div>\n          <div className={styles.bottomText}>\n            <h2>\n              А здесь мы напишем слоган вокрума, какой же это классный\n              техноброкер\n            </h2>\n          </div>\n        </div>\n        <Waves\n          style={{\n            paddingTop: \"100px\",\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"black\"\n          }}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default Main;\n","import React, { Component, Fragment } from \"react\";\nimport styles from \"./styles.module.scss\";\n\nclass GeneralInfo extends Component {\n  render() {\n    return (\n      <Fragment>\n        <div>\n          <h4>О компании</h4>\n        </div>\n        <div>\n          <h1>С нами ваш дедушка никогда не заболеет</h1>\n        </div>\n\n        <div className={styles.features}>\n          <div className={styles.features__item}>\n            <div>icon</div>\n            <ul>\n              <li>Решаем задачи классные</li>\n              <li>Помогаем маме, гуляем с собакой</li>\n              <li>Зависаем на компах</li>\n            </ul>\n          </div>\n          <div className={styles.features__item}>\n            <div>icon</div>\n            <ul>\n              <li>Решаем задачи классные</li>\n              <li>Помогаем маме, гуляем с собакой</li>\n              <li>Зависаем на компах</li>\n            </ul>\n          </div>\n          <div className={styles.features__item}>\n            <div>icon</div>\n            <ul>\n              <li>Решаем задачи классные</li>\n              <li>Помогаем маме, гуляем с собакой</li>\n              <li>Зависаем на компах</li>\n            </ul>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default GeneralInfo;\n","import React, { Component } from \"react\";\nimport ReactSVG from \"react-svg\";\nimport styles from \"./styles.module.scss\";\n\nexport default class FeatureContainer extends Component {\n  render() {\n    return (\n      <div className={styles.feature}>\n        <div className={styles.left}>\n          <div>\n            <h1>{this.props.title}</h1>\n          </div>\n          <div style={{ fontSize: \"1em\" }}>{this.props.children}</div>\n          <div>\n            <button onClick={() => window.scrollBy(0, 9999)}>Оставить заявку</button>\n          </div>\n        </div>\n\n        <div className={styles.right}>\n          <ReactSVG src={this.props.src} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component, Fragment } from \"react\";\nimport classNames from \"classnames\";\nimport Waves from \"../Waves\";\nimport styles from \"./styles.module.scss\";\n\nconst emailRe = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\nclass Submit extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    comment: \"\",\n    isActive: false\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    if (value.length < 100) {\n        this.setState({\n            [name]: value,\n            isActive: this.state.name.length > 3 && emailRe.test(this.state.email)\n        });\n    }\n  };\n\n  handleSubmit = () => {\n    const { name, email, comment } = this.state;\n    if (name.length > 3 && emailRe.test(email)) {\n      fetch(\"/api/submit\", {\n        method: \"POST\",\n        body: JSON.stringify({ name, email, comment })\n      }).then(() => alert(\"Вы отправили заявку\"));\n    }\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className={classNames(\"container\")}>\n          <div className={styles.submit}>\n            <div className={styles.left}>\n              <h1>C нами можно связаться</h1>\n              <p className={styles.left__text}>\n                Our team has led, scaled and delivered large scale software and\n                design projects at multiple startups and high-growth\n                environments like Uber, Airbnb and Coinbase.\n              </p>\n            </div>\n            <div className={styles.right}>\n              <input\n                name={\"name\"}\n                placeholder={\"Имя\"}\n                onChange={this.handleChange}\n              />\n              <input\n                name={\"email\"}\n                placeholder={\"Почта\"}\n                onChange={this.handleChange}\n              />\n              <input\n                name={\"comment\"}\n                placeholder={\"Комментарий\"}\n                onChange={this.handleChange}\n              />\n              <button\n                disabled={!this.state.isActive}\n                onClick={this.handleSubmit}\n              >\n                Оставить заявку\n              </button>\n            </div>\n          </div>\n        </div>\n        <Waves\n          style={{\n            paddingTop: \"100px\",\n            width: \"100vw\",\n            height: \"100vh\",\n            backgroundColor: \"black\"\n          }}\n        />\n      </Fragment>\n    );\n  }\n}\n\nexport default Submit;\n","import React, { Fragment } from \"react\";\nimport Wrapper from \"./components/Wrapper\";\nimport Main from \"./components/Main\";\nimport GeneralInfo from \"./components/GeneralInfo\";\nimport FeatureContainer from \"./components/FeatureContainer\";\nimport Submit from \"./components/Submit\";\nimport \"./App.css\";\n\nconst text =\n  \"description description description description description\\n\" +\n  \"          description description description description\\n\" +\n  \"          description description description description description\\n\" +\n  \"          description description description description\\n\" +\n  \"          description description description description description\\n\" +\n  \"          description description description description\\n\" +\n  \"          description description description description description\\n\" +\n  \"          description description description description\\n\" +\n  \"          description description description description description\\n\" +\n  \"          description description description description\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <Wrapper dark withGradient>\n        <Main />\n      </Wrapper>\n\n      <Wrapper withContainer>\n        <GeneralInfo />\n      </Wrapper>\n\n      <Wrapper dark withContainer>\n        <FeatureContainer title={\"Разработка AI решений\"} src={\"/svg/1.svg\"}>\n          {text}\n        </FeatureContainer>\n      </Wrapper>\n\n      <Wrapper withContainer>\n        <FeatureContainer title={\"Разработка AI решений\"} src={\"/svg/2.svg\"}>\n          {text}\n        </FeatureContainer>\n      </Wrapper>\n\n      <Wrapper dark withContainer>\n        <FeatureContainer title={\"Разработка AI решений\"} src={\"/svg/3.svg\"}>\n          {text}\n        </FeatureContainer>\n      </Wrapper>\n\n      <Wrapper withContainer>\n        <FeatureContainer title={\"Разработка AI решений\"} src={\"/svg/4.svg\"}>\n          {text}\n        </FeatureContainer>\n      </Wrapper>\n\n      <Wrapper dark withGradient>\n          <Submit/>\n      </Wrapper>\n    </Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}